<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8">
		<title> Vote </title>
		<style> 
			.candidate_box {display:block;}
			.candidate_box img{width:150px;display:block;}
		</style>
	</head>
	<body>
		<h1>	Votação </h1>
		<forms >
			<div class = "candidate_box">
				<img src="imgs/fa.jpg" alt="Minha Figura1">
				<input type="radio" name = "candidate" id="cadidate_1" id="c1">
				<label for="candidate_1">Forever Alone</label>	
			</div>
			<p id="r1"></p>

			<div class = "candidate_box">
				<img src="imgs/iu.jpg" alt="Minha Figura2">
				<input type="radio" name = "candidate" id="cadidate_2" id="c2">
				<label for="candidate_2">Ui </label>
			</div>
			<p id="r2"></p>

			<div class = "candidate_box">
				<img src="imgs/jp.jpeg" alt="Minha Figura3">
				<input type="radio" name = "candidate" id="cadidate_3" id="c3">
				<label for="candidate_3">Japa</label>
			</div>
			<p id="r3"></p>

			<div class = "candidate_box">
				<img src="imgs/trollf.jpg" alt="Minha Figura4">
				<input type="radio" name = "candidate" id="cadidate_4" id="c4">
				<label for="candidate_4">Troll Face</label>
			</div>
			<p id="r4"></p>

			<input type = "submit" value = "Votar" onclick="vote();">
			<input type = "submit" value = "Zerar" onclick="zero();">
		</forms>
	</body>
</html>
<script type=text/javascript>

	function vote(){
		//captura o candidato selecionado
		let candidate_choose = document.querySelector('input[name="candidate"]:checked').id;
		alert("You choose the "+ candidate_choose);
		
		//set o total de votos
		if(localStorage.getItem("total") != null){
			votos = parseInt(localStorage.getItem("total"))+1;
			localStorage.setItem("total",votos);	
		}
		else{
			localStorage.setItem("total",1);
		}

		//set o voto do candidato selecionado
		if(localStorage.getItem(candidate_choose) != null){
			votos = parseInt(localStorage.getItem(candidate_choose))+1;
			localStorage.setItem(candidate_choose,votos);	
		}
		else{
			localStorage.setItem(candidate_choose,1);
		}


		//exibe a %
		document.getElementById("r1").innerHTML= localStorage.getItem("cadidate_1")/localStorage.getItem("total")*100 + "%";
		document.getElementById("r2").innerHTML= localStorage.getItem("cadidate_2")/localStorage.getItem("total")*100 + "%";
		document.getElementById("r3").innerHTML= localStorage.getItem("cadidate_3")/localStorage.getItem("total")*100 + "%";
		document.getElementById("r4").innerHTML= localStorage.getItem("cadidate_4")/localStorage.getItem("total")*100 + "%";
	}
	function zero(){
		localStorage.setItem("cadidate_1",0);
		localStorage.setItem("cadidate_2",0);
		localStorage.setItem("cadidate_3",0);
		localStorage.setItem("cadidate_4",0);
		localStorage.setItem("total",0);
		
		document.getElementById("r1").innerHTML="0%";
		document.getElementById("r2").innerHTML= "0%";
		document.getElementById("r3").innerHTML="0%";
		document.getElementById("r4").innerHTML= "0%";
		
	}
</script>
